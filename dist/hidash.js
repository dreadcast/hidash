!function(n){if("function"==typeof require){var t=require("lodash");"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(module.exports=t)}else var t=n._;var r=function(n,e){for(var i in e)try{n[i]=t.isArray(n[i])&&t.isArray(e[i])?t.union(n[i],e[i]):e[i].constructor==Object?r(n[i],e[i])||{}:e[i]}catch(s){n[i]=e[i]}return n};t.mixin({from:function(n){return t.isArray(n)||t.isArguments(n)||(n=[n]),t.toArray(n)},penultimate:function(n){return n.length>1?n[n.length-2]:null},joinLast:function(n,t,r){var e=n.pop();return n.join(t)+r+e},getFromPath:function(n,t){t=t.split(".");for(var r=0,e=t.length;e>r;r++){if(!hasOwnProperty.call(n,t[r]))return null;n=n[t[r]]}return n},setFromPath:function(n,t,r){for(var e=t.split("."),i=n,s=0,u=e.length;u>s;s++)u-1>s&&!n.hasOwnProperty(e[s])&&(n[e[s]]={}),s==u-1?n[e[s]]=r:n=n[e[s]];return i},eraseFromPath:function(n,t){for(var r=t.split("."),e=n,i=0,s=r.length;s>i&&n.hasOwnProperty(r[i]);i++)if(s-1>i)n=n[r[i]];else if(i==s-1){delete n[r[i]];break}return e},keyOf:function(n,t){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===t)return r;return null},deepmerge:function(){for(var n=arguments[0],t=1;t<arguments.length;t++)r(n,arguments[t]);return n},isLaxEqual:function(n,r){return t.isArray(n)&&(n=t.uniq(n.sort())),t.isArray(r)&&(r=t.uniq(r.sort())),t.isEqual(n,r)},isIterable:function(n){return t.isObject(n)&&!t.isFunction(n)&&!t.isArray(n)},isJson:function(n){return t.isString(n)&&t.isObject(JSON.parse(n))},isClass:function(n){return"Class"==n.name},isInstance:function(n){return"Class"==n.constructor.name},isShit:function(n){return t.isArray(n)&&0==_compact(n).length?!0:t([null,"null",void 0,"",!1,"false",0,"0"]).contains(n)},eachParallel:function(n,r,e,i){var s=n.length,u=function(){s--,0==s&&e()};t(n).each(t(n).isIterable()?function(t,e,s){r.call(i||n,t,e,s,u,n)}:function(t,e){r.call(i||n,t,e,u,n)})},eachInterval:function(n,r,e,i,s){return t.eachAsync(n,function(){setTimeout(function(){r.apply(this,arguments)},i)},e,s)},eachAsync:function(n,r,e,i){if(0==t(n).size())return e.call(i);if(t.isIterable(n))var s=t.keys(n),u=t.values(n);var a=0,o=function(){var c;a>=t(n).size()?c=function(){}:a==t(n).size()-1&&t.isFunction(e)?c=function(){e.call(i||this),o.call(this)}.bind(this):a<t(n).size()&&(c=o.bind(this)),a<t(n).size()&&(t.isIterable(n)?r.call(i||this,u[a],s[a],a,c,this):r.call(i||this,this[a],a,c,this)),a++};return o.call(n),n},closest:function(n,t){if((r=n.length)<2)return l-1;for(var r,e=Math.abs(n[--r]-t);r--&&!(e<(e=Math.abs(n[r]-t))););return n[r+1]},replaceAt:function(n,t,r){return n.splice(r,1,t),n},insertAt:function(n,t,r){return n.splice(r,0,t),n},attempt:function(n){try{var r=t.from(arguments);return r.shift(),n.apply(this,r)}catch(e){return!1}}})}(Function("return this")());